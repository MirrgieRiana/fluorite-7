<html>
	<head>
		<title>Online fluorite-7 Editor</title>
	</head>
	<body style="margin: 0;">
		<table style="height: 100%; width: 100%;">
			<tr style="height: 100%;">
				<td>
					<iframe id="frame" style="height: 100%; width: 100%;"></iframe>
				</td>
			</tr>
			<tr>
				<td>
					Indent: <select id="tabSize" onChange="
						editor.getModel().updateOptions({
							insertSpaces: this.value === "true"
						});
					">
						<option value="true" selected>Spaces</option>
						<option value="false">Tabs</option>
					</select>
					Tab Size: <select id="tabSize" onChange="
						editor.getModel().updateOptions({
							tabSize: this.value
						});
					">
						<option value="1">1</option>
						<option value="2" selected>2</option>
						<option value="3">3</option>
						<option value="4">4</option>
						<option value="8">8</option>
					</select>
				</td>
			</tr>
		</table>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
		<script>
			var require = {
				paths: {
					'vs': 'https://microsoft.github.io/monaco-editor/node_modules/monaco-editor/min/vs'
				}
			};
		</script>
		<script src="https://microsoft.github.io/monaco-editor/node_modules/monaco-editor/min/vs/loader.js"></script>
		<script>
			var editor;
			$(function() {
				$("#frame").contents().find("body").append("<div id='container'></div>");
				require(['vs/editor/editor.main'], function() {
					var container = $("#frame").contents().find("#container")[0];
					editor = monaco.editor.create(container, {
						value: "",
						language: "perl",
						//automaticLayout: true
					});
					editor.getModel().updateOptions({
						tabSize: 2,
						insertSpaces: true
					});
				});
			});/*
			$("#container").resize(function() {
				editor.layout();
			});*/
		</script>
	</body>
</html>
